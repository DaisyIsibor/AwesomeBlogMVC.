{{#each posts}}
<div class="post">
    <h2>{{title}} - <span class="post-info">{{user.username}} | {{formatDate createdAt}}</span></h2>
    <p>{{content}}</p>
    <a href="/post/{{id}}/comments">View Comments</a>
</div>
{{/each}}

<script>
// Helper function to format the date (remove time)
Handlebars.registerHelper('formatDate', function(date) {
    // Ensure date is a valid Date object
    const formattedDate = new Date(date);
    if (isNaN(formattedDate)) return ''; // Return empty string if date is invalid

    // Extract and format the date (YYYY-MM-DD)
    const year = formattedDate.getFullYear();
    const month = String(formattedDate.getMonth() + 1).padStart(2, '0');
    const day = String(formattedDate.getDate()).padStart(2, '0');
    
    return `${year}-${month}-${day}`;
});
</script>